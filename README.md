# beetroot

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Install

``` sh
pip install beetroot
```

## How to use

From the command-line:

``` sh
br_export path/to/notebook.ipynb path/to/output_directory
```

As a Python API:

``` python
import json 
from pathlib import Path 

from beetroot.api import export_notebook

# Input and output paths
nb_path = Path('path/to/notebook.ipynb')
output_path = Path('path/to/output/directory')

# Load the notebook contents as JSON
nb_json = json.loads(nb_path.read_text())

# Export the notebook
markdown, completions = export_notebook(nb_json)

# Run the completions to write all external files
for completion in completions:
    completion(output_path)

# Write the markdown to an output file
md_filename = output_path / nb_path.with_suffix('.md').name
with open(md_filename, 'w') as md_file:
    md_file.write(markdown)
```

## Dev Environment Setup

1.  Create a virtual environment for beetroot development:

``` sh
python3 -m venv ~/venv/venv-beetroot-dev
source ~/venv/venv-beetroot-dev/bin/activate
```

2.  Install requirements

``` sh
pip install -r requirements.dev.txt
```

### Before committing changes

Run the following to ensure all dependencies are generated from
notebooks and notebooks are cleaned:

``` sh
nbdev_export && nbdev_test && nbdev_clean && nbdev_clean --fname testcase_notebooks/ && nbdev_readme
```
